function X(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var V={exports:{}},at=V.exports,rt;function ut(){return rt||(rt=1,function(o,W){(function(M,Y){o.exports=Y()})(at,function(){var M=1e3,Y=6e4,Z=36e5,j="millisecond",g="second",z="minute",l="hour",h="day",T="week",x="month",$="quarter",v="year",c="date",n="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,D=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,S={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(s){var r=["th","st","nd","rd"],t=s%100;return"["+s+(r[(t-20)%10]||r[t]||r[0])+"]"}},b=function(s,r,t){var i=String(s);return!i||i.length>=r?s:""+Array(r+1-i.length).join(t)+s},_={s:b,z:function(s){var r=-s.utcOffset(),t=Math.abs(r),i=Math.floor(t/60),e=t%60;return(r<=0?"+":"-")+b(i,2,"0")+":"+b(e,2,"0")},m:function s(r,t){if(r.date()<t.date())return-s(t,r);var i=12*(t.year()-r.year())+(t.month()-r.month()),e=r.clone().add(i,x),a=t-e<0,u=r.clone().add(i+(a?-1:1),x);return+(-(i+(t-e)/(a?e-u:u-e))||0)},a:function(s){return s<0?Math.ceil(s)||0:Math.floor(s)},p:function(s){return{M:x,y:v,w:T,d:h,D:c,h:l,m:z,s:g,ms:j,Q:$}[s]||String(s||"").toLowerCase().replace(/s$/,"")},u:function(s){return s===void 0}},m="en",O={};O[m]=S;var C="$isDayjsObject",H=function(s){return s instanceof J||!(!s||!s[C])},N=function s(r,t,i){var e;if(!r)return m;if(typeof r=="string"){var a=r.toLowerCase();O[a]&&(e=a),t&&(O[a]=t,e=a);var u=r.split("-");if(!e&&u.length>1)return s(u[0])}else{var y=r.name;O[y]=r,e=y}return!i&&e&&(m=e),e||!i&&m},p=function(s,r){if(H(s))return s.clone();var t=typeof r=="object"?r:{};return t.date=s,t.args=arguments,new J(t)},d=_;d.l=N,d.i=H,d.w=function(s,r){return p(s,{locale:r.$L,utc:r.$u,x:r.$x,$offset:r.$offset})};var J=function(){function s(t){this.$L=N(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[C]=!0}var r=s.prototype;return r.parse=function(t){this.$d=function(i){var e=i.date,a=i.utc;if(e===null)return new Date(NaN);if(d.u(e))return new Date;if(e instanceof Date)return new Date(e);if(typeof e=="string"&&!/Z$/i.test(e)){var u=e.match(f);if(u){var y=u[2]-1||0,w=(u[7]||"0").substring(0,3);return a?new Date(Date.UTC(u[1],y,u[3]||1,u[4]||0,u[5]||0,u[6]||0,w)):new Date(u[1],y,u[3]||1,u[4]||0,u[5]||0,u[6]||0,w)}}return new Date(e)}(t),this.init()},r.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},r.$utils=function(){return d},r.isValid=function(){return this.$d.toString()!==n},r.isSame=function(t,i){var e=p(t);return this.startOf(i)<=e&&e<=this.endOf(i)},r.isAfter=function(t,i){return p(t)<this.startOf(i)},r.isBefore=function(t,i){return this.endOf(i)<p(t)},r.$g=function(t,i,e){return d.u(t)?this[i]:this.set(e,t)},r.unix=function(){return Math.floor(this.valueOf()/1e3)},r.valueOf=function(){return this.$d.getTime()},r.startOf=function(t,i){var e=this,a=!!d.u(i)||i,u=d.p(t),y=function(F,L){var q=d.w(e.$u?Date.UTC(e.$y,L,F):new Date(e.$y,L,F),e);return a?q:q.endOf(h)},w=function(F,L){return d.w(e.toDate()[F].apply(e.toDate("s"),(a?[0,0,0,0]:[23,59,59,999]).slice(L)),e)},k=this.$W,U=this.$M,I=this.$D,E="set"+(this.$u?"UTC":"");switch(u){case v:return a?y(1,0):y(31,11);case x:return a?y(1,U):y(0,U+1);case T:var A=this.$locale().weekStart||0,R=(k<A?k+7:k)-A;return y(a?I-R:I+(6-R),U);case h:case c:return w(E+"Hours",0);case l:return w(E+"Minutes",1);case z:return w(E+"Seconds",2);case g:return w(E+"Milliseconds",3);default:return this.clone()}},r.endOf=function(t){return this.startOf(t,!1)},r.$set=function(t,i){var e,a=d.p(t),u="set"+(this.$u?"UTC":""),y=(e={},e[h]=u+"Date",e[c]=u+"Date",e[x]=u+"Month",e[v]=u+"FullYear",e[l]=u+"Hours",e[z]=u+"Minutes",e[g]=u+"Seconds",e[j]=u+"Milliseconds",e)[a],w=a===h?this.$D+(i-this.$W):i;if(a===x||a===v){var k=this.clone().set(c,1);k.$d[y](w),k.init(),this.$d=k.set(c,Math.min(this.$D,k.daysInMonth())).$d}else y&&this.$d[y](w);return this.init(),this},r.set=function(t,i){return this.clone().$set(t,i)},r.get=function(t){return this[d.p(t)]()},r.add=function(t,i){var e,a=this;t=Number(t);var u=d.p(i),y=function(U){var I=p(a);return d.w(I.date(I.date()+Math.round(U*t)),a)};if(u===x)return this.set(x,this.$M+t);if(u===v)return this.set(v,this.$y+t);if(u===h)return y(1);if(u===T)return y(7);var w=(e={},e[z]=Y,e[l]=Z,e[g]=M,e)[u]||1,k=this.$d.getTime()+t*w;return d.w(k,this)},r.subtract=function(t,i){return this.add(-1*t,i)},r.format=function(t){var i=this,e=this.$locale();if(!this.isValid())return e.invalidDate||n;var a=t||"YYYY-MM-DDTHH:mm:ssZ",u=d.z(this),y=this.$H,w=this.$m,k=this.$M,U=e.weekdays,I=e.months,E=e.meridiem,A=function(L,q,P,B){return L&&(L[q]||L(i,a))||P[q].slice(0,B)},R=function(L){return d.s(y%12||12,L,"0")},F=E||function(L,q,P){var B=L<12?"AM":"PM";return P?B.toLowerCase():B};return a.replace(D,function(L,q){return q||function(P){switch(P){case"YY":return String(i.$y).slice(-2);case"YYYY":return d.s(i.$y,4,"0");case"M":return k+1;case"MM":return d.s(k+1,2,"0");case"MMM":return A(e.monthsShort,k,I,3);case"MMMM":return A(I,k);case"D":return i.$D;case"DD":return d.s(i.$D,2,"0");case"d":return String(i.$W);case"dd":return A(e.weekdaysMin,i.$W,U,2);case"ddd":return A(e.weekdaysShort,i.$W,U,3);case"dddd":return U[i.$W];case"H":return String(y);case"HH":return d.s(y,2,"0");case"h":return R(1);case"hh":return R(2);case"a":return F(y,w,!0);case"A":return F(y,w,!1);case"m":return String(w);case"mm":return d.s(w,2,"0");case"s":return String(i.$s);case"ss":return d.s(i.$s,2,"0");case"SSS":return d.s(i.$ms,3,"0");case"Z":return u}return null}(L)||u.replace(":","")})},r.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},r.diff=function(t,i,e){var a,u=this,y=d.p(i),w=p(t),k=(w.utcOffset()-this.utcOffset())*Y,U=this-w,I=function(){return d.m(u,w)};switch(y){case v:a=I()/12;break;case x:a=I();break;case $:a=I()/3;break;case T:a=(U-k)/6048e5;break;case h:a=(U-k)/864e5;break;case l:a=U/Z;break;case z:a=U/Y;break;case g:a=U/M;break;default:a=U}return e?a:d.a(a)},r.daysInMonth=function(){return this.endOf(x).$D},r.$locale=function(){return O[this.$L]},r.locale=function(t,i){if(!t)return this.$L;var e=this.clone(),a=N(t,i,!0);return a&&(e.$L=a),e},r.clone=function(){return d.w(this.$d,this)},r.toDate=function(){return new Date(this.valueOf())},r.toJSON=function(){return this.isValid()?this.toISOString():null},r.toISOString=function(){return this.$d.toISOString()},r.toString=function(){return this.$d.toUTCString()},s}(),et=J.prototype;return p.prototype=et,[["$ms",j],["$s",g],["$m",z],["$H",l],["$W",h],["$M",x],["$y",v],["$D",c]].forEach(function(s){et[s[1]]=function(r){return this.$g(r,s[0],s[1])}}),p.extend=function(s,r){return s.$i||(s(r,J,p),s.$i=!0),p},p.locale=N,p.isDayjs=H,p.unix=function(s){return p(1e3*s)},p.en=O[m],p.Ls=O,p.p={},p})}(V)),V.exports}var ot=ut();const tt=X(ot);var Q={exports:{}},ct=Q.exports,nt;function ft(){return nt||(nt=1,function(o,W){(function(M,Y){o.exports=Y()})(ct,function(){return function(M,Y,Z){M=M||{};var j=Y.prototype,g={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function z(h,T,x,$){return j.fromToBase(h,T,x,$)}Z.en.relativeTime=g,j.fromToBase=function(h,T,x,$,v){for(var c,n,f,D=x.$locale().relativeTime||g,S=M.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],b=S.length,_=0;_<b;_+=1){var m=S[_];m.d&&(c=$?Z(h).diff(x,m.d,!0):x.diff(h,m.d,!0));var O=(M.rounding||Math.round)(Math.abs(c));if(f=c>0,O<=m.r||!m.r){O<=1&&_>0&&(m=S[_-1]);var C=D[m.l];v&&(O=v(""+O)),n=typeof C=="string"?C.replace("%d",O):C(O,T,m.l,f);break}}if(T)return n;var H=f?D.future:D.past;return typeof H=="function"?H(n):H.replace("%s",n)},j.to=function(h,T){return z(h,T,this,!0)},j.from=function(h,T){return z(h,T,this)};var l=function(h){return h.$u?Z.utc():Z()};j.toNow=function(h){return this.to(l(this),h)},j.fromNow=function(h){return this.from(l(this),h)}}})}(Q)),Q.exports}var dt=ft();const lt=X(dt);var G={exports:{}},ht=G.exports,it;function $t(){return it||(it=1,function(o,W){(function(M,Y){o.exports=Y()})(ht,function(){var M="minute",Y=/[+-]\d\d(?::?\d\d)?/g,Z=/([+-]|\d\d)/g;return function(j,g,z){var l=g.prototype;z.utc=function(n){var f={date:n,utc:!0,args:arguments};return new g(f)},l.utc=function(n){var f=z(this.toDate(),{locale:this.$L,utc:!0});return n?f.add(this.utcOffset(),M):f},l.local=function(){return z(this.toDate(),{locale:this.$L,utc:!1})};var h=l.parse;l.parse=function(n){n.utc&&(this.$u=!0),this.$utils().u(n.$offset)||(this.$offset=n.$offset),h.call(this,n)};var T=l.init;l.init=function(){if(this.$u){var n=this.$d;this.$y=n.getUTCFullYear(),this.$M=n.getUTCMonth(),this.$D=n.getUTCDate(),this.$W=n.getUTCDay(),this.$H=n.getUTCHours(),this.$m=n.getUTCMinutes(),this.$s=n.getUTCSeconds(),this.$ms=n.getUTCMilliseconds()}else T.call(this)};var x=l.utcOffset;l.utcOffset=function(n,f){var D=this.$utils().u;if(D(n))return this.$u?0:D(this.$offset)?x.call(this):this.$offset;if(typeof n=="string"&&(n=function(m){m===void 0&&(m="");var O=m.match(Y);if(!O)return null;var C=(""+O[0]).match(Z)||["-",0,0],H=C[0],N=60*+C[1]+ +C[2];return N===0?0:H==="+"?N:-N}(n),n===null))return this;var S=Math.abs(n)<=16?60*n:n,b=this;if(f)return b.$offset=S,b.$u=n===0,b;if(n!==0){var _=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(b=this.local().add(S+_,M)).$offset=S,b.$x.$localOffset=_}else b=this.utc();return b};var $=l.format;l.format=function(n){var f=n||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return $.call(this,f)},l.valueOf=function(){var n=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*n},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var v=l.toDate;l.toDate=function(n){return n==="s"&&this.$offset?z(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():v.call(this)};var c=l.diff;l.diff=function(n,f,D){if(n&&this.$u===n.$u)return c.call(this,n,f,D);var S=this.local(),b=z(n).local();return c.call(S,b,f,D)}}})}(G)),G.exports}var mt=$t();const vt=X(mt);var K={exports:{}},yt=K.exports,st;function bt(){return st||(st=1,function(o,W){(function(M,Y){o.exports=Y()})(yt,function(){var M={year:0,month:1,day:2,hour:3,minute:4,second:5},Y={};return function(Z,j,g){var z,l=function($,v,c){c===void 0&&(c={});var n=new Date($),f=function(D,S){S===void 0&&(S={});var b=S.timeZoneName||"short",_=D+"|"+b,m=Y[_];return m||(m=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:D,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:b}),Y[_]=m),m}(v,c);return f.formatToParts(n)},h=function($,v){for(var c=l($,v),n=[],f=0;f<c.length;f+=1){var D=c[f],S=D.type,b=D.value,_=M[S];_>=0&&(n[_]=parseInt(b,10))}var m=n[3],O=m===24?0:m,C=n[0]+"-"+n[1]+"-"+n[2]+" "+O+":"+n[4]+":"+n[5]+":000",H=+$;return(g.utc(C).valueOf()-(H-=H%1e3))/6e4},T=j.prototype;T.tz=function($,v){$===void 0&&($=z);var c,n=this.utcOffset(),f=this.toDate(),D=f.toLocaleString("en-US",{timeZone:$}),S=Math.round((f-new Date(D))/1e3/60),b=15*-Math.round(f.getTimezoneOffset()/15)-S;if(!Number(b))c=this.utcOffset(0,v);else if(c=g(D,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(b,!0),v){var _=c.utcOffset();c=c.add(n-_,"minute")}return c.$x.$timezone=$,c},T.offsetName=function($){var v=this.$x.$timezone||g.tz.guess(),c=l(this.valueOf(),v,{timeZoneName:$}).find(function(n){return n.type.toLowerCase()==="timezonename"});return c&&c.value};var x=T.startOf;T.startOf=function($,v){if(!this.$x||!this.$x.$timezone)return x.call(this,$,v);var c=g(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return x.call(c,$,v).tz(this.$x.$timezone,!0)},g.tz=function($,v,c){var n=c&&v,f=c||v||z,D=h(+g(),f);if(typeof $!="string")return g($).tz(f);var S=function(O,C,H){var N=O-60*C*1e3,p=h(N,H);if(C===p)return[N,C];var d=h(N-=60*(p-C)*1e3,H);return p===d?[N,p]:[O-60*Math.min(p,d)*1e3,Math.max(p,d)]}(g.utc($,n).valueOf(),D,f),b=S[0],_=S[1],m=g(b).utcOffset(_);return m.$x.$timezone=f,m},g.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},g.tz.setDefault=function($){z=$}}})}(K)),K.exports}var pt=bt();const gt=X(pt);tt.extend(lt);tt.extend(vt);tt.extend(gt);function Dt(o=[],W=!1){return`
	  <div class="posts-container">
	    ${o.length>0?o.map(M=>Mt(M)).join(""):xt(W)}
	  </div>
	`}function Mt(o){const W=tt.utc(o.created_at).tz("Asia/Almaty").fromNow();return`
		<div class="post bg-body" data-post-id="${o.id}" data-user-vote="${o.user_vote}">
	    <div class="post-votes bg-body">
	      <button class="vote-btn upvote text-body" aria-label="Upvote">
	        <i class="bi ${o.user_vote===1?"bi-caret-up-fill text-danger":"bi-caret-up"}"></i>
	      </button>
	      <span class="vote-count text-body">${o.votes}</span>
	      <button class="vote-btn downvote text-body" aria-label="Downvote">
	        <i class="bi ${o.user_vote===-1?"bi-caret-down-fill text-primary":"bi-caret-down"}"></i>
	      </button>
	    </div>
	    <div class="post-content bg-body">
	      <div class="post-header">
		<span class="post-community text-body">r/${o.community_id}</span>
		<span class="post-author text-body">Posted by u/${o.author}</span>
		<span class="post-time text-body">${W}</span>
	      </div>
	      <h3 class="post-title text-body">${o.title}</h3>
	      ${o.image?`
		<div class="post-image-container bg-body">
		  <img src="http://localhost:5000/${o.image}" class="post-image" alt="${o.title}">
		</div>
	      `:""}
	      <div class="post-text text-body">${o.content}</div>
	      <div class="post-actions">
		<button class="action-btn comment-btn text-body">
		  <i class="bi bi-chat text-body"></i> ${o.comment_count} Comments
		</button>
		<button class="action-btn share-btn text-body" data-bs-toggle="modal" data-bs-target="#shareModal-${o.id}">
		  <i class="bi bi-share text-body"></i> Share
		</button>

${o.is_bookmarked?`<button class="action-btn save-btn text-body saved" data-thread-id="${o.id}"><i class="bi bi-bookmark-fill text-body"></i> Saved</button>`:`<button class="action-btn save-btn text-body" data-thread-id="${o.id}"><i class="bi bi-bookmark text-body"></i> Save</button>`}

	
	      </div>
	    </div>
	  </div>
	`}function xt(o,W="main"){let M;return o?W==="saved"?M="У вас пока нет закладок.":M="В закладках пусто.":M="Войдите, чтобы просматривать посты.",`
    <div class="empty-state text-body">${M}</div>
  `}const St="http://localhost:5000";export{St as b,tt as d,Dt as r};
